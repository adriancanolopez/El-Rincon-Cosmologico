---
import Layout from "../../layouts/Layout.astro";
import '../../styles/news.css';
import { getNewsPublished } from "../../api/NewsRequests";
import NewsCard from "../../components/news/NewsCard.astro";

const newsRequest = await getNewsPublished();

const allNews = newsRequest.ok ? newsRequest.data : [];
---

<Layout title="Noticias">
    <h1 class="text-xl font-bold text-center my-2">Noticias</h1>
	<section class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 p-4" id="news">
        {
            allNews.map(news => {
                return (
                    <NewsCard news={news}/>
                )
            })
        }
    </section>
</Layout>
---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';

type Props = {
    galaxy: CollectionEntry<"galaxies">
}

const { galaxy } = Astro.props;
const { data, slug } = galaxy;
const { name, type, images } = data;
const galaxyTypeSlug = type.id;
const mainImage = images?.filter((image) => image.main)[0];
---

<article class="bg-gray-600 rounded-sm h-max">
    <div class="flex flex-col items-start gap-4 p-4">
        <h2 class="text-2xl font-bold">{name}</h2>
        <a href={`/galaxias/${galaxyTypeSlug}/${slug}`} class="bg-blue-500 px-4 py-2 rounded-md transition-colors hover:bg-blue-700 hover:cursor-pointer">
            <button type="button" class="hover:cursor-pointer">Ver galaxia</button>
        </a>
    </div>
    {
        
        mainImage && (
            <Image src={mainImage.url} alt={`Imagen de ${name}`} class="object-cover w-full h-64" title={`Imagen de ${name}. CrÃ©ditos: ${mainImage.credits}`}/>
        )
    }
</article>